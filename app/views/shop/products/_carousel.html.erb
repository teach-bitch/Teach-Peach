<% i = 0 %>
<% j = 0 %>

<div id="productCarousel" class="carousel slide" data-ride="carousel" data-interval="8000">
  <ol class="carousel-indicators">
    <% if @product.images.attached? %>
      <% if @product.images.length > 1 %>
        <% @product.images.each do |image| %>
          <% i += 1 %>
          <li data-target="#productCarousel" data-slide-to="<%= i %>"></li>
        <% end %>
      <% end %>
    <% end %>
  </ol>
  <div class="carousel-inner" role="listbox">
    <% if @product.images.attached? %>
      <% @product.images.each do |image| %>
        <% j += 1 %>
        <% if j == 1 %>
          <div class="carousel-item active">
            <%= image_tag @product.images.first, alt: 'image', class: 'd-block img-raised' %>
          </div>
        <% else %>
          <div class="carousel-item">
            <%= image_tag image, alt: 'image', class: 'd-block img-raised' %>
          </div>
        <% end %>
      <% end %>
    <% end %>
  </div>
  <% if @product.images.length > 1 %>
    <%= link_to '#productCarousel', class: 'carousel-control-prev', role: 'button', "data-slide" => 'prev' do %>
        <button type="button" class="btn btn-primary btn-icon btn-round btn-sm" name="button">
            <i class="now-ui-icons arrows-1_minimal-left"></i>
        </button>
    <% end %>
    <%= link_to '#productCarousel', class: 'carousel-control-next', role: 'button', "data-slide" => 'next' do %>
      <button type="button" class="btn btn-primary btn-icon btn-round btn-sm" name="button">
          <i class="now-ui-icons arrows-1_minimal-right"></i>
      </button>
    <% end %>
  <% end %>
</div>
